---
phase: 6
plan: 3
wave: 2
depends_on: []
files_modified: [
  "fitkarma/lib/main.dart",
  "fitkarma/pubspec.yaml",
  "fitkarma/l10n.yaml",
  "fitkarma/lib/l10n/app_en.arb",
  "fitkarma/lib/l10n/app_hi.arb"
]
autonomous: true

must_haves:
  truths:
    - "The app supports Hindi and English as primary UI languages."
    - "Users can switch languages from the Profile/Settings screen."
  artifacts:
    - "lib/l10n/app_hi.arb"
---

# Plan 6.3: Internationalization (i18n) - Hindi & Regional Support

<objective>
Expand accessibility by translating the application into Hindi and setting up the infrastructure for other regional languages.

Purpose: Scale the app to non-English speaking demographics in India.
Output: Localized UI and language switcher.
</objective>

<context>
Load for context:
- fitkarma/lib/main.dart (to configure localizationsDelegates)
- fitkarma/pubspec.yaml (to add flutter_localizations)
</context>

<tasks>

<task type="auto">
  <name>Configure Flutter Localizations</name>
  <files>pubspec.yaml, l10n.yaml</files>
  <action>
    - Add `flutter_localizations` dependency.
    - Enable `generate: true` in `flutter` section.
    - Create `l10n.yaml` with output directory configuration.
  </action>
  <verify>`flutter pub get` succeeds and ARB file generation is configured.</verify>
  <done>Localization infrastructure is ready.</done>
</task>

<task type="auto">
  <name>Create ARB Files & Translate</name>
  <files>lib/l10n/app_en.arb, lib/l10n/app_hi.arb</files>
  <action>
    - Extract hardcoded strings from Dashboard, Profile, and Community tabs into `app_en.arb`.
    - Provide Hindi translations in `app_hi.arb`.
  </action>
  <verify>ARB files contain core app strings in both languages.</verify>
  <done>Translation content is prepared.</done>
</task>

<task type="auto">
  <name>Implement Language Switcher</name>
  <files>lib/main.dart, lib/presentation/screens/profile/profile_screen.dart</files>
  <action>
    - Update `MaterialApp` to use generated localizations.
    - Implement a `LocaleProvider` (Riverpod) to manage the app's current locale.
    - Add a "Language" selection menu in the Profile screen.
  </action>
  <verify>Changing the language in Profile immediately updates the entire app's UI text.</verify>
  <done>Users can toggle between Hindi and English.</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Hindi characters (Devanagari) render correctly without clipping.
- [ ] Switching to Hindi updates all menu items, buttons, and headers.
- [ ] The app remembers the language choice after restart (Hive persistence).
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
