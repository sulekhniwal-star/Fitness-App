---
phase: 6
plan: 1
wave: 1
depends_on: []
files_modified: [
  "fitkarma/lib/data/models/dosha_model.dart",
  "fitkarma/lib/presentation/screens/profile/dosha_quiz_screen.dart",
  "fitkarma/lib/data/providers/dosha_provider.dart"
]
autonomous: true

must_haves:
  truths:
    - "Users can complete a 15-question quiz to determine their Dosha (Vata, Pitta, Kapha)."
    - "Recommendations for food and workouts are tailored based on the determined Dosha."
  artifacts:
    - "lib/data/models/dosha_model.dart"
    - "lib/presentation/screens/profile/dosha_quiz_screen.dart"
---

# Plan 6.1: Ayurvedic Dosha Quiz & Recommendations Engine

<objective>
Introduce Ayurvedic personalization by determining the user's Dosha and providing tailored lifestyle recommendations.

Purpose: Differentiate FitKarma as a culturally-rich, holistic fitness app.
Output: Dosha determination quiz and personalized recommendation UI.
</objective>

<context>
Load for context:
- fitkarma/lib/data/models/user_model.dart (to store dosha results if needed)
- fitkarma/lib/core/storage/hive_service.dart
</context>

<tasks>

<task type="auto">
  <name>Implement Dosha Data Models</name>
  <files>lib/data/models/dosha_model.dart</files>
  <action>
    - Define `DoshaQuestion` and `DoshaResult` models.
    - Create a static repository of Dosha questions (Physical, Mental, Emotional traits).
    - Map answers to Vata/Pitta/Kapha scores.
  </action>
  <verify>Models are defined and can correctly calculate a primary Dosha from a set of answers.</verify>
  <done>The data structure for the quiz is ready.</done>
</task>

<task type="auto">
  <name>Build Dosha Quiz UI</name>
  <files>lib/presentation/screens/profile/dosha_quiz_screen.dart</files>
  <action>
    - Create a step-by-step interactive quiz UI.
    - Use smooth transitions between questions.
    - Display results in a visually appealing "Ayurvedic Profile" card.
  </action>
  <verify>The quiz functions correctly and displays the result screen upon completion.</verify>
  <done>Users can find their Dosha.</done>
</task>

<task type="auto">
  <name>Dosha-Based Recommendations Logic</name>
  <files>lib/data/providers/dosha_provider.dart</files>
  <action>
    - Implement a provider that stores the quiz result.
    - Create a function that returns a list of "Best Foods" and "Exercises to Avoid" for each Dosha.
    - Update the Dashboard or Profile to show the current Dosha status.
  </action>
  <verify>The app provides specific content recommendations tied to the user's Dosha.</verify>
  <done>Ayurvedic personalization is integrated into the app flow.</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Quiz calculates the correct dominant Dosha based on input.
- [ ] Result persists locally in Hive.
- [ ] Recommended UI sections update dynamically based on the current Dosha.
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
