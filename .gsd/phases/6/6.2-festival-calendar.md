---
phase: 6
plan: 2
wave: 1
depends_on: [1]
files_modified: [
  "fitkarma/lib/data/models/festival_model.dart",
  "fitkarma/lib/data/providers/festival_provider.dart",
  "fitkarma/lib/presentation/screens/home/festival_calendar_screen.dart"
]
autonomous: true

must_haves:
  truths:
    - "The app displays a calendar of major Indian festivals (Diwali, Holi, Navratri, etc.)."
    - "Users receive adjusted calorie goals and workout suggestions during festival days."
  artifacts:
    - "lib/data/models/festival_model.dart"
    - "lib/presentation/screens/home/festival_calendar_screen.dart"
---

# Plan 6.2: Festival Calendar & Adaptive Planning

<objective>
Respect cultural traditions by adapting fitness and nutrition goals during important Indian festivals.

Purpose: Prevent user guilt during celebrations and provide healthier alternatives for traditional festive foods.
Output: Festival calendar UI and adaptive goal recalculation engine.
</objective>

<context>
Load for context:
- fitkarma/lib/data/providers/step_provider.dart (to see how goals are stored)
- fitkarma/lib/core/constants/app_constants.dart
</context>

<tasks>

<task type="auto">
  <name>Festival Data & Model</name>
  <files>lib/data/models/festival_model.dart</files>
  <action>
    - Define `Festival` model with dates, descriptions, and "Adjustment logic" (e.g. holiday_multiplier).
    - Seed a static list of 20+ major Indian festivals for 2026.
  </action>
  <verify>Festival data is correctly parsed and accessible via date lookups.</verify>
  <done>The festival database is initialized.</done>
</task>

<task type="auto">
  <name>Adaptive Goal Engine</name>
  <files>lib/data/providers/festival_provider.dart</files>
  <action>
    - Create a provider that checks if today is a festival.
    - Implement logic to adjust calorific goals (flexibility) and suggest "Festive Workouts" (like Garba/Bhangra).
    - Provide "Healthy Swaps" notifications for traditional sweets.
  </action>
  <verify>Goals change automatically on specified festival dates.</verify>
  <done>Fitness tracking feels culturally aware.</done>
</task>

<task type="auto">
  <name>Festival Calendar Screen</name>
  <files>lib/presentation/screens/home/festival_calendar_screen.dart</files>
  <action>
    - Build a calendar view highlighting upcoming festivals.
    - Show "What to eat/How to move" tips for each festival.
  </action>
  <verify>Users can browse upcoming festivals and view adaptive advice.</verify>
  <done>The festival calendar is accessible from the home/dashboard.</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Today's goal adjustments trigger correctly on a test festival date.
- [ ] "Healthy Swaps" are displayed for at least 3 major festivals.
- [ ] Calendar view correctly marks festival days.
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
